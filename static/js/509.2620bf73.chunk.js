"use strict";(self.webpackChunkreact_main=self.webpackChunkreact_main||[]).push([[509],{7509:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ht});var o=r(5043),a=r(2166),n=r(7143),s=r(7710),c=r(6698),d=r(8901),i=r(1238);const l=Boolean({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_EMULATE);console.log({__emulate__:l});const u=l?"http://127.0.0.1:5001/maximprosv-server-ts/us-central1/functionsApp":"http://localhost:3005",p="/api/v1";var y=r(5103),h=r(8309);const f=(0,y.xP)({reducerPath:"api",baseQuery:(0,h.cw)({baseUrl:"".concat(u).concat(p),prepareHeaders:(e,t)=>(e.set("Content-Type","application/json;charset=UTF-8"),e.set("Authorization","anonymous"),e.set("X-Request-ID",(0,i.A)()),e)}),endpoints:e=>({})}),m=(0,s.Z0)({name:"counter",initialState:0,reducers:{incrementAction:e=>e+1,decrementAction:e=>e-1}}),g=m.reducer,{incrementAction:A,decrementAction:P}=m.actions,v=(0,s.Z0)({name:"todos",initialState:{entities:[]},reducers:{addTodoAction(e,t){let{payload:r}=t;e.entities.push(r)},addTodoPreparedAction:{reducer:(e,t)=>{let{payload:r}=t;const{id:o,text:a}=r;e.entities.push({id:o,text:a,completed:!1})},prepare:e=>({payload:{text:e,id:"".concat(Math.random()*Date.now())}})},toggleTodoAction(e,t){let{payload:r}=t;const o=e.entities.find(e=>e.id===r);o&&(o.completed=!o.completed)}}}),{addTodoPreparedAction:S,toggleTodoAction:T,addTodoAction:U}=v.actions,C=v.reducer;var E=r(3536);const D=f.injectEndpoints({endpoints:e=>({fetchUserList:e.query({query:()=>({url:"users"})}),fetchUser:e.query({async queryFn(e,t,r,o){let{userId:a}=e,{dispatch:n,getState:s}=t;s();const c=await o({url:"users/".concat(a),method:"GET"});if(c.error)return c;return{data:c.data}}}),addUser:e.mutation({query:e=>{let{user:t}=e;return{url:"users",method:"POST",body:t}},async onQueryStarted(e,t){let{user:r}=e,{dispatch:o,queryFulfilled:a}=t;try{const{data:e}=await a;o(D.util.updateQueryData("fetchUserList",void 0,t=>{t.push(e)}))}catch(n){console.error("addUser onQueryStarted error")}}}),addUserDebounced:e.mutation({async queryFn(e,t,r,o){var a;let{user:n,cancelDebounce:s}=e,{dispatch:c,getState:d}=t;return{data:null!==(a=await b(n,c,o))&&void 0!==a?a:null}}}),updateUser:e.mutation({query:e=>{let{user:t}=e;return{url:"users",method:"PUT",body:t}},async onQueryStarted(e,t){let{user:r}=e,{dispatch:o,queryFulfilled:a}=t;const n=o(D.util.updateQueryData("fetchUserList",void 0,e=>{const t=e.findIndex(e=>e.id===r.id);e[t]=r}));try{await a}catch(s){n.undo()}}}),deleteUser:e.mutation({async queryFn(e,t,r,o){let{dispatch:a,getState:n}=t;const s=await o({url:"users/".concat(e.id),method:"DELETE"});if(s.error)return s;const c=s.data;return a(D.util.updateQueryData("fetchUserList",void 0,t=>t.filter(t=>t.id!==e.id))),{data:c}}})}),overrideExisting:!0}),b=(0,E.debounce)(async(e,t,r)=>{const o=await r({url:"users",method:"POST",body:e});if(o.error)throw o.error;const a=o.data;return t(D.util.updateQueryData("fetchUserList",void 0,e=>{e.push(a)})),a},1e3,{leading:!0}),R=(0,s.pU)({selectId:e=>e.id,sortComparer:(e,t)=>e.name&&t.name?e.name.localeCompare(t.name):0}),k=(0,s.Z0)({name:"users",initialState:R.getInitialState({loading:void 0}),reducers:{},extraReducers:e=>{e.addMatcher(D.endpoints.fetchUserList.matchFulfilled,(e,t)=>{R.setAll(e,t.payload),e.loading=!1}),e.addMatcher(D.endpoints.fetchUserList.matchPending,e=>{e.loading=!0}),e.addMatcher(D.endpoints.fetchUserList.matchRejected,e=>{e.loading=!1})}}),{selectAll:I,selectById:w,selectIds:j}=R.getSelectors(e=>e.users),x=k.reducer,O=(0,s.Z0)({name:"visibilityFilter",initialState:"SHOW_ALL",reducers:{setVisibilityFilterAction:(e,t)=>{let{payload:r}=t;return r}}}),{setVisibilityFilterAction:q}=O.actions,M=O.reducer;let _={org:"rails",repo:"rails",page:1,displayType:function(e){return e.Issues="issues",e.Comments="comments",e}({}).Issues,issueId:null};const L=(0,s.Z0)({name:"issuesDisplay",initialState:_,reducers:{displayRepo(e,t){let{payload:r}=t;const{org:o,repo:a}=r;e.org=o,e.repo=a},setCurrentPage(e,t){e.page=t.payload},setCurrentDisplayType(e,t){let{payload:r}=t;const{displayType:o,issueId:a=null}=r;e.displayType=o,e.issueId=a}}}),{displayRepo:F,setCurrentPage:Q,setCurrentDisplayType:W}=L.actions,Z=L.reducer;var V=r(2215),z=r(192);(0,s.zD)("posts/fetchAll",async(e,t)=>{try{const{data:e}=await V.A.get("https://jsonplaceholder.typicode.com/posts");return e}catch(r){return t.rejectWithValue(r)}});const N=(0,s.Z0)({name:"posts",initialState:{loading:!1,entities:[]},reducers:{fetchPostsStart(e){e.loading=!0},fetchPostsSuccess(e,t){let{payload:r}=t;e.entities=r,e.loading=!1},fetchPostsError(e,t){let{payload:r}=t;e.error=r,e.loading=!1}}}),{fetchPostsSuccess:B,fetchPostsError:H,fetchPostsStart:K}=N.actions,Y=N.reducer,X=e=>e.posts;(0,z.Mz)([X,(e,t)=>t],(e,t)=>{var r;return null===(r=e.entities)||void 0===r?void 0:r.filter(e=>e.title.includes(t))});var J=r(45);const G=["id"],$=(0,s.pU)({selectId:e=>e.id,sortComparer:(e,t)=>e.title.localeCompare(t.title)}),ee=(0,s.zD)("books/fetchAll",async(e,t)=>{try{return await Promise.resolve([{id:"1",title:"title1"},{id:"2",title:"title2"},{id:"3",title:"title3"}])}catch(r){return t.rejectWithValue(r)}}),te=(0,s.zD)("books/updateOne",async(e,t)=>await Promise.resolve(e)),re=$.getInitialState({loading:!1}),oe=(0,s.Z0)({name:"books",initialState:re,reducers:{removeBookAction:$.removeOne,addBookAction:$.addOne,updateBookAction:$.updateOne},extraReducers:e=>{e.addCase(ee.pending,(e,t)=>{e.loading=!0}),e.addCase(ee.fulfilled,(e,t)=>{let{payload:r}=t;$.upsertMany(e,r),e.loading=!1}),e.addCase(te.fulfilled,(e,t)=>{let{payload:r}=t;const{id:o}=r,a=(0,J.A)(r,G);$.updateOne(e,{id:o,changes:a})})}}),ae=oe.reducer,{removeBookAction:ne,addBookAction:se,updateBookAction:ce}=oe.actions,{selectById:de,selectIds:ie,selectEntities:le,selectAll:ue,selectTotal:pe}=$.getSelectors(e=>e.books),ye="".concat(u).concat(p,"/users"),he=(0,s.zD)("thunkUser/fetchAll",async(e,t)=>{try{const e=await fetch(ye);return await e.json()}catch(r){return t.rejectWithValue(r)}}),fe=(0,s.zD)("thunkUser/add",async(e,t)=>{try{const t=await fetch(ye,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)});return await t.json()}catch(r){return t.rejectWithValue(r)}}),me=(0,s.zD)("thunkUser/update",async(e,t)=>{try{const t=await fetch(ye,{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)});return await t.json()}catch(r){return t.rejectWithValue(r)}}),ge=(0,s.zD)("thunkUser/delete",async(e,t)=>{try{const t=await fetch("".concat(ye,"/").concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)});return await t.json()}catch(r){return t.rejectWithValue(r)}});function Ae(e){return e.type.endsWith("/pending")}function Pe(e){return e.type.endsWith("/fulfilled")}const ve=["id"],Se=(0,s.pU)(),Te=Se.getInitialState({loading:!1}),Ue=(0,s.Z0)({name:"thunkUser",initialState:Te,reducers:{},extraReducers:e=>{e.addCase(he.fulfilled,Se.upsertMany),e.addCase(fe.fulfilled,Se.addOne),e.addCase(me.fulfilled,(e,t)=>{let{payload:r}=t;const{id:o}=r,a=(0,J.A)(r,ve);Se.updateOne(e,{id:o,changes:a})}),e.addCase(ge.fulfilled,(e,t)=>{let{payload:r}=t;Se.removeOne(e,r.id)}),e.addMatcher(Ae,e=>{e.loading=!0}),e.addMatcher(Pe,e=>{e.loading=!1})}}).reducer,{selectAll:Ce}=Se.getSelectors(e=>e.thunkUser);var Ee=r(9379);let De=function(e){return e.Product1="product1",e.Product2="product2",e}({});const be=(0,s.pU)(),Re=be.getInitialState();console.log({product1InnerPropAdapterInitialState:Re});const ke=(0,s.Z0)({name:"product/feature",initialState:null,reducers:{setProductFeatureNameAction(e,t){e.name=t.payload}}}),Ie=ke.reducer,{setProductFeatureNameAction:we}=ke.actions,je=(0,s.Z0)({name:"product/product1",initialState:{},reducers:{setProduct1innerPropAction(e,t){be.setMany(e.product1InnerProp,t.payload)},setProduct1PropAction(e,t){e.prop=t.payload}},extraReducers:e=>{e.addDefaultCase((e,t)=>{Ie(e,t)})}}),xe=je.reducer,{setProduct1innerPropAction:Oe,setProduct1PropAction:qe}=je.actions,Me=(0,s.pU)({}),_e=(Me.getInitialState(),(0,s.Z0)({name:"product/product2",initialState:null,reducers:{setProduct2innerPropAction(e,t){Me.setMany(e.product2InnerProp,t.payload)}},extraReducers:e=>{e.addDefaultCase((e,t)=>{Ie(e,t)})}})),Le=_e.reducer,{setProduct2innerPropAction:Fe}=_e.actions,Qe=(0,s.VP)("product/setProductAction"),We=((0,s.VP)("product/resetProductAction"),{type:De.Product1,product1InnerProp:Re}),Ze=(0,s.Z0)({name:"product",initialState:We,reducers:{setProductTypeAction(e,t){e.type=t.payload}},extraReducers(e){e.addCase(Qe,(e,t)=>(0,Ee.A)((0,Ee.A)({},e),t.payload)),e.addDefaultCase((e,t)=>((e,t)=>{switch(null===e||void 0===e?void 0:e.type){case De.Product1:return xe(e,t);case De.Product2:return Le(e,t)}})(e,t))}}),{setProductTypeAction:Ve}=Ze.actions,ze=Ze.reducer;let Ne=function(e){return e.XRequestId="x-request-id",e}({}),Be=function(e){return e.ConditionError="ConditionError",e}({});const He=[],Ke=e=>e=>t=>{if((0,s.TK)(t)){var r,o,a,n,c,d,i;let e=null===(r=t.meta)||void 0===r||null===(o=r.baseQueryMeta)||void 0===o||null===(a=o.request)||void 0===a?void 0:a.headers,s=null===(n=t.meta)||void 0===n||null===(c=n.baseQueryMeta)||void 0===c||null===(d=c.response)||void 0===d?void 0:d.headers;if(e)for(let t of e)console.log("headersReq",t);if(s)for(let t of s)console.log("headersRes",t);t.error.name===Be.ConditionError||He.includes(null===(i=t.meta.arg.arg)||void 0===i?void 0:i.endpointName)||function(e){var t,r,o,a;const n=e.meta;if(!n)return console.error("logRequestError Action doesn't contain 'meta'",e);const{request:s,response:c}=n.baseQueryMeta;if(!s&&!c)return console.error("Request/response error: ".concat(n.baseQueryMeta));const{method:d,url:i}=null!==s&&void 0!==s?s:{},{status:l,statusText:u}=null!==c&&void 0!==c?c:{},p=(null===(t=e.meta)||void 0===t||null===(r=t.baseQueryMeta)||void 0===r||null===(o=r.request)||void 0===o?void 0:o.headers)||[],y=null===(a=[...p].find(e=>{let[t]=e;return t===Ne.XRequestId}))||void 0===a?void 0:a[1];console.group("ERROR: ".concat(d," ").concat(i)),console.log("STATUS: ".concat(l)),console.log("STATUS-TEXT: ".concat(u)),console.log("X-REQUEST-ID: ".concat(y)),n.arg&&console.log("RTK QUERY: ".concat(n.arg.type," ").concat(n.arg.endpointName));e.payload&&(console.groupCollapsed("PAYLOAD"),console.log(JSON.stringify(e.payload,null,4)),console.groupEnd());console.groupEnd()}(t)}return e(t)};const Ye={key:"root",version:1,storage:d.A,whitelist:["todos"]},Xe=(0,c.rL)(Ye,ae),Je=(0,n.HY)({counter:g,todos:C,users:x,visibilityFilter:M,books:Xe,issuesDisplay:Z,posts:Y,thunkUser:Ue,product:ze,[f.reducerPath]:f.reducer}),Ge=(0,s.U1)({reducer:Je,preloadedState:{},middleware:e=>e({thunk:{extraArgument:{fetchPolicy:"cache-first"}},immutableCheck:!1,serializableCheck:{ignoredActions:[c.ZM,c.r2,c.Hz,c.DY,c.Cq,c.eY]}}).concat(f.middleware,Ke),devTools:!1});(0,h.$k)(Ge.dispatch);const $e=Ge,et=(0,c.GM)(Ge);var tt=r(4730),rt=r(4600),ot=r.n(rt),at=r(1603);const nt=(0,n.HY)({protectedProps:e=>null!==e&&void 0!==e?e:{prop:0,prop1:""}});function st(e,t){const[r,a]=function(e,t){const r=(0,Ee.A)((0,Ee.A)({},e),{},{protectedProps:t}),{protectedReducer:o,protectedActions:a}=function(){const e=(0,s.VP)("".concat((0,s.Ak)(),"/updateProtectedProps"));return{protectedReducer:(t,r)=>t&&e.match(r)?(0,at.jM)(t,e=>{e.protectedProps=(0,Ee.A)((0,Ee.A)({},e.protectedProps),r.payload)}):nt(t,r),protectedActions:{protectedAction:e}}}();return[(0,s.U1)({preloadedState:r,reducer:o}),a]}(e,t);return o.useEffect(()=>{r.dispatch(a.protectedAction(t))},[t,a,r]),r}const ct=e=>e.protectedProps,dt=e=>ct(e).prop,it=e=>ct(e).prop1;var lt=r(579);const ut=(0,o.memo)(()=>{const e=st({},{prop:37,prop1:"Max"});return(0,lt.jsx)(a.Kq,{store:e,children:(0,lt.jsx)("div",{className:ot()("taStoreWithProtectedAction"),children:(0,lt.jsx)(pt,{})})})});function pt(){const e=(0,a.d4)(dt),t=(0,a.d4)(it);return(0,lt.jsxs)(lt.Fragment,{children:[e," ",t]})}const yt=()=>(0,lt.jsx)(a.Kq,{store:$e,children:(0,lt.jsx)(tt.Q,{loading:null,persistor:et,children:(0,lt.jsx)(ut,{})})}),ht=(0,o.memo)(yt)}}]);
//# sourceMappingURL=509.2620bf73.chunk.js.map