{"version":3,"file":"static/js/509.25963414.chunk.js","mappings":"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","sources":["constants/common.constants.ts","store/common/common.api.ts","store/counter/counter.slice.ts","store/todos/todos.slice.ts","store/user/api-user.api.ts","store/user/api-user.slice.ts","store/visibility-filters/visibility-filters.slice.ts","models/issues-display.model.ts","store/issues-display/issues-display.slice.ts","store/posts/posts.slice.ts","store/books/books.slice.ts","constants/api.constants.ts","store/thunk-user/thunk-user.action.ts","store/thunk-user/thunk-user.model.ts","store/thunk-user/thunk-user.slice.ts","models/product.model.ts","store/product/1/product1.adapters.ts","store/product/feature/product-feature.slice.ts","store/product/1/product1.slice.ts","store/product/2/product2.adapters.ts","store/product/2/product2.slice.ts","store/product/abstract/abstract-product.actions.ts","store/product/abstract/abstract-product.slice.ts","models/header.model.ts","store/store.utils.ts","store/store.ts","store/store-with-protected-actions/store-with-protected-actions.ts","store/store-with-protected-actions/store-with-protected-actions.selectors.ts","components/store-with-protected-actions/store-with-protected-actions.component.tsx","pages/Rt.page.tsx"],"sourcesContent":["export const __prod__ = process.env.NODE_ENV !== 'production';\n// это для пакета с firebase functions из папки server-ts-functions\n// прикольно что в случае CRA все переменные попадающие в приложение должны начинаться с REACT_APP_\n// сами переменные беру из client/.env\nexport const __emulate__ = Boolean(process.env.REACT_APP_EMULATE);\n\nconsole.log({ __emulate__ });\n\nexport const API_BASE_URL = __emulate__\n    ? 'http://127.0.0.1:5001/maximprosv-server-ts/us-central1/functionsApp'\n    : 'http://localhost:3005';\nexport const API_PATH = '/api/v1';\n","import { v4 as uuidv4 } from 'uuid';\nimport { API_BASE_URL, API_PATH } from '@app/constants/common.constants';\n\n// !!!!!!!!!!!!!!!!!!!! https://stackoverflow.com/questions/69502501/redux-rtk-not-auto-generating-react-hooks\n// охренеть обязательно @reduxjs/toolkit/query/react вместо @reduxjs/toolkit/query\n//https://github.com/reduxjs/redux-toolkit/issues/4537#issuecomment-2260938954\n// все надо импортить из @reduxjs/toolkit/query/react\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const commonApi = createApi({\n    reducerPath: 'api',\n    baseQuery: fetchBaseQuery({\n        baseUrl: `${API_BASE_URL}${API_PATH}`,\n        // const { extra, endpoint, getState } = api\n        prepareHeaders: (headers, _api) => {\n            headers.set('Content-Type', 'application/json;charset=UTF-8');\n            headers.set('Authorization', 'anonymous');\n            headers.set('X-Request-ID', uuidv4());\n\n            return headers;\n        },\n    }),\n    // tagTypes1  это таг тип за которым при инвалидации будет следить кеш rtk query, типо как кеш ГКЛ\n    // tagTypes: ['User'],\n    endpoints: _ => ({}),\n});\n","import { createSlice } from '@reduxjs/toolkit';\n\n// createSlice returns a \"slice\" object that contains the generated reducer function as a field named reducer,\n// and the generated action creators inside an object called actions.\n// const { actions, reducer } = counterSlice\n// const { increment, decrement } = actions\nexport const slice = createSlice({\n    name: 'counter',\n    initialState: 0,\n    reducers: {\n        incrementAction: state => state + 1,\n        decrementAction: state => state - 1,\n    },\n});\n\nexport default slice.reducer;\n\nexport const { incrementAction, decrementAction } = slice.actions;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { TodoModel } from '@app/models/todo.model';\n\n// createSlice and createReducer wrap your function with produce from the Immer library.\n/** @see https://immerjs.github.io/immer/docs/introduction*/\ninterface TodosStateModel {\n    entities: TodoModel[];\n}\n\nconst initialState: TodosStateModel = {\n    entities: [],\n};\n\nconst todosSlice = createSlice({\n    name: 'todos',\n    initialState,\n    // reducers - an object, where the keys will become action type strings, and the functions are reducers that will\n    // be run when that action type is dispatched.\n    reducers: {\n        addTodoAction(state, { payload }: PayloadAction<TodoModel>) {\n            state.entities.push(payload);\n        },\n        addTodoPreparedAction: {\n            reducer: (state, { payload }: PayloadAction<TodoModel>) => {\n                const { id, text } = payload;\n                state.entities.push({ id, text, completed: false });\n            },\n            // если нужно кастомно подготовить то что прокидываю в экшн, по умолчанию все что передасться при\n            // вызове экшена попадет в пейлоад, однако если нужен кастом делаю prepare\n            prepare: (text: string): { payload: TodoModel } => ({\n                payload: { text, id: `${Math.random() * Date.now()}` },\n            }),\n        },\n        toggleTodoAction(state, { payload }: PayloadAction<string>) {\n            const todo = state.entities.find(todo => todo.id === payload);\n\n            if (todo) {\n                todo.completed = !todo.completed;\n            }\n        },\n    },\n});\n\nexport const { addTodoPreparedAction, toggleTodoAction, addTodoAction } = todosSlice.actions;\n\nexport default todosSlice.reducer;\n","import { UserModel } from '@app/models/user.model';\nimport { commonApi } from '../common/common.api';\nimport { debounce } from 'lodash';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { FetchArgs, FetchBaseQueryError, FetchBaseQueryMeta, QueryReturnValue } from '@reduxjs/toolkit/query/react';\nimport { RootState } from '@app/store/store';\n\ntype MaybePromise<T> = T | PromiseLike<T>;\n\nexport const apiUserApi = commonApi.injectEndpoints({\n    endpoints: build => ({\n        fetchUserList: build.query<UserModel[], void>({\n            query: () => ({\n                url: `users`,\n            }),\n        }),\n        fetchUser: build.query<UserModel, { userId: string | undefined | null }>({\n            async queryFn({ userId }, { dispatch: _dispatch, getState }, __, fetchWithBQ) {\n                const _state = getState() as RootState;\n\n                const result = await fetchWithBQ({\n                    url: `users/${userId}`,\n                    method: 'GET',\n                });\n\n                // тут обязательно возвращаю result так как в нем meta,\n                // обработка в общем middleware\n                if (result.error) return result;\n\n                const data = result.data as UserModel;\n\n                // получить статус запроса в сторе\n                // console.log('fetchUser status from store ', apiUserApi.endpoints.fetchUser.select({ userId })(state));\n\n                return { data };\n            },\n            // disable cache\n            // keepUnusedDataFor: 0,\n        }),\n        addUser: build.mutation<UserModel, { user: Partial<UserModel> }>({\n            query: ({ user }) => ({\n                url: `users`,\n                method: 'POST',\n                body: user,\n            }),\n            async onQueryStarted({ user: _user }, { dispatch, queryFulfilled }) {\n                // Pessimistic Updates\n                try {\n                    const { data: newUser } = await queryFulfilled;\n                    dispatch(\n                        apiUserApi.util.updateQueryData('fetchUserList', undefined, userList => {\n                            userList.push(newUser);\n                        }),\n                    );\n                } catch {\n                    console.error('addUser onQueryStarted error');\n                }\n            },\n        }),\n        addUserDebounced: build.mutation<UserModel, { user: Partial<UserModel> } & { cancelDebounce?: boolean }>({\n            async queryFn(\n                { user, cancelDebounce: _cancelDebounce },\n                { dispatch, getState: _getState },\n                __,\n                fetchWithBQ,\n            ) {\n                // если вдруг захочу сбросить pending debounce\n                // if (cancelDebounce) {\n                //     debouncedAddUser.cancel();\n                // }\n\n                // Pessimistic Updates\n                const data = (await debouncedAddUser(user, dispatch, fetchWithBQ)) ?? null;\n\n                return { data };\n            },\n        }),\n        updateUser: build.mutation<UserModel, { user: UserModel }>({\n            query: ({ user }) => ({\n                url: `users`,\n                method: 'PUT',\n                body: user,\n            }),\n            async onQueryStarted({ user }, { dispatch, queryFulfilled }) {\n                // Optimistic update\n                const updateResult = dispatch(\n                    apiUserApi.util.updateQueryData('fetchUserList', undefined, userList => {\n                        const userIndex = userList.findIndex(item => item.id === user.id);\n                        userList[userIndex] = user;\n                    }),\n                );\n                try {\n                    await queryFulfilled;\n                } catch {\n                    updateResult.undo();\n                }\n            },\n        }),\n        deleteUser: build.mutation<UserModel, UserModel>({\n            async queryFn(user, { dispatch, getState: _getState }, __, fetchWithBQ) {\n                // const state = getState() as RootState;\n\n                const result = await fetchWithBQ({\n                    url: `users/${user.id}`,\n                    method: 'DELETE',\n                });\n\n                // тут обязательно возвращаю result так как в нем meta\n                if (result.error) return result;\n\n                const data = result.data as UserModel;\n\n                // Pessimistic Updates\n                dispatch(\n                    apiUserApi.util.updateQueryData('fetchUserList', undefined, userList => {\n                        return userList.filter(userFromList => userFromList.id !== user.id);\n                    }),\n                );\n\n                return { data };\n            },\n        }),\n    }),\n    overrideExisting: true,\n});\n\nconst debouncedAddUser = debounce(\n    async (\n        user: Partial<UserModel>,\n        dispatch: ThunkDispatch<any, any, any>,\n        fetchWithBQ: (\n            arg: string | FetchArgs,\n        ) => MaybePromise<QueryReturnValue<unknown, FetchBaseQueryError, FetchBaseQueryMeta>>,\n    ) => {\n        // Pessimistic Updates\n        const result = await fetchWithBQ({\n            url: `users`,\n            method: 'POST',\n            body: user,\n        });\n\n        if (result.error) throw result.error;\n\n        const data = result.data as UserModel;\n\n        dispatch(\n            apiUserApi.util.updateQueryData('fetchUserList', undefined, userList => {\n                userList.push(data);\n            }),\n        );\n\n        return data;\n    },\n    1000,\n    { leading: true },\n);\n","import { createEntityAdapter, createSlice } from '@reduxjs/toolkit';\nimport { UserModel } from '@app/models/user.model';\nimport { apiUserApi } from '@app/store/user/api-user.api';\nimport { RootState } from '@app/store/store';\n\n// это пример как красиво прокидывать в стейт то что пришло из rtk query\nconst usersApiAdapter = createEntityAdapter<UserModel, UserModel['id']>({\n    selectId: (user: UserModel) => user.id, // Указываем, какое поле является ID\n    sortComparer: (a, b) => {\n        if (!a.name || !b.name) return 0;\n\n        return a.name.localeCompare(b.name);\n    }, // Сортировка по имени (опционально)\n});\n\nconst usersApiSlice = createSlice({\n    name: 'users',\n    initialState: usersApiAdapter.getInitialState<{ loading: boolean | undefined }>({\n        loading: undefined,\n    }),\n    reducers: {\n        // Здесь можно добавить дополнительные редюсеры, если нужно\n    },\n    extraReducers: builder => {\n        builder.addMatcher(apiUserApi.endpoints.fetchUserList.matchFulfilled, (state, action) => {\n            // При успешном запросе нормализуем данные с помощью адаптера\n            usersApiAdapter.setAll(state, action.payload);\n            state.loading = false;\n        });\n        builder.addMatcher(apiUserApi.endpoints.fetchUserList.matchPending, state => {\n            state.loading = true;\n        });\n        builder.addMatcher(apiUserApi.endpoints.fetchUserList.matchRejected, state => {\n            state.loading = false;\n        });\n    },\n});\n\nexport const {\n    selectAll: selectAllApiUsers,\n    selectById: selectApiUserById,\n    selectIds: selectApiUserIds,\n} = usersApiAdapter.getSelectors((state: RootState) => state.users);\n\nexport default usersApiSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport const visibilityFilters = {\n    SHOW_ALL: 'SHOW_ALL',\n    SHOW_COMPLETED: 'SHOW_COMPLETED',\n    SHOW_ACTIVE: 'SHOW_ACTIVE',\n};\n\nconst visibilityFilterSlice = createSlice({\n    name: 'visibilityFilter',\n    initialState: visibilityFilters.SHOW_ALL,\n    reducers: {\n        setVisibilityFilterAction: (_state, { payload }: PayloadAction<string>) => payload,\n    },\n});\n\nexport const { setVisibilityFilterAction } = visibilityFilterSlice.actions;\n\nexport default visibilityFilterSlice.reducer;\n","export enum IssuesDisplayTypeEnum {\n    Issues = 'issues',\n    Comments = 'comments',\n}\n\nexport interface IssuesDisplayModel {\n    displayType: IssuesDisplayTypeEnum;\n    issueId: number | null;\n}\n\nexport interface IssuesDisplayRepoModel {\n    org: string;\n    repo: string;\n}\n\nexport type IssuesDisplayStateModel = {\n    page: number;\n} & IssuesDisplayModel &\n    IssuesDisplayRepoModel;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport {\n    IssuesDisplayModel,\n    IssuesDisplayRepoModel,\n    IssuesDisplayStateModel,\n    IssuesDisplayTypeEnum,\n} from '@app/models/issues-display.model';\n\nlet initialState: IssuesDisplayStateModel = {\n    org: 'rails',\n    repo: 'rails',\n    page: 1,\n    displayType: IssuesDisplayTypeEnum.Issues,\n    issueId: null,\n};\n\nconst issuesDisplaySlice = createSlice({\n    name: 'issuesDisplay',\n    initialState,\n    reducers: {\n        displayRepo(state, { payload }: PayloadAction<IssuesDisplayRepoModel>) {\n            const { org, repo } = payload;\n            state.org = org;\n            state.repo = repo;\n        },\n        setCurrentPage(state, action: PayloadAction<number>) {\n            state.page = action.payload;\n        },\n        setCurrentDisplayType(state, { payload }: PayloadAction<IssuesDisplayModel>) {\n            const { displayType, issueId = null } = payload;\n            state.displayType = displayType;\n            state.issueId = issueId;\n        },\n    },\n});\n\nexport const { displayRepo, setCurrentPage, setCurrentDisplayType } = issuesDisplaySlice.actions;\n\nexport default issuesDisplaySlice.reducer;\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport customAxios from '../../common/api/axios';\nimport { createSelector } from 'reselect';\nimport { PostModel } from '@app/models/posts.model';\nimport { AppThunk, RootState } from '@app/store/store';\n\ninterface PostsStateModel {\n    loading: boolean;\n    entities: PostModel[];\n    error?: Error;\n}\n\nconst initialState: PostsStateModel = {\n    loading: false,\n    entities: [],\n};\n\n// 2ой способ задания thunk должен указать тут чтобы не ругался тс с последовательностью зависимостей\n// thunks redux toolkit не умеет поэтому ручками пишем (хорошие новости что включены из коробки)\nexport const fetchPostsAction1 = createAsyncThunk('posts/fetchAll', async (_, thunkApi) => {\n    try {\n        const { data: posts } = await customAxios.get<PostModel[]>('https://jsonplaceholder.typicode.com/posts');\n        return posts;\n    } catch (e) {\n        return thunkApi.rejectWithValue(e);\n    }\n});\n\nconst postsSlice = createSlice({\n    name: 'posts',\n    initialState,\n    reducers: {\n        fetchPostsStart(state) {\n            state.loading = true;\n        },\n        fetchPostsSuccess(state, { payload }: PayloadAction<PostModel[]>) {\n            state.entities = payload;\n            state.loading = false;\n        },\n        fetchPostsError(state, { payload }: PayloadAction<Error>) {\n            state.error = payload;\n            state.loading = false;\n        },\n    },\n    // extraReducers: {\n    //     // это тоже самое что и builder.addCase в books\n    //     [fetchPostsAction1.pending.type]: (state: PostsStateModel, { payload }: PayloadAction<Error>) => {\n    //         state.error = payload;\n    //         state.loading = true;\n    //     },\n    //     [fetchPostsAction1.fulfilled.type]: (state: PostsStateModel, { payload }: PayloadAction<PostModel[]>) => {\n    //         state.entities = payload;\n    //         state.loading = false;\n    //     },\n    //     [fetchPostsAction1.rejected.type]: (state: PostsStateModel, { payload }: PayloadAction<Error>) => {\n    //         state.error = payload;\n    //         state.loading = false;\n    //     },\n    // } as any,\n});\n\nexport const { fetchPostsSuccess, fetchPostsError, fetchPostsStart } = postsSlice.actions;\n\nexport default postsSlice.reducer;\n\n// selectors\nexport const selectPosts = (state: RootState): PostsStateModel => state.posts;\n\n// пример селектора если нужно его именно по типу заиспользовать чтобы не проверять на тип в разных селекторах\n// export const testProductSelector = <T>(selector: (state: TestProductStateModel) => T): ((state: RootState) => T) => {\n//     return (state: RootState) => {\n//         const product = selectProduct(state);\n//         if (product?.type === ProductTypeEnum.TEST) {\n//             return selector(state.product);\n//         } else {\n//             throw Error('Incorrect product type');\n//         }\n//     };\n// };\n// export const selectTestProp = testProductSelector(testProduct => testProduct.prop);\n\nexport const makeSelectPostsByTitle = () => {\n    return createSelector([selectPosts, (_: RootState, title: string) => title], (posts, title) => {\n        // console.log('memoized selector', { title });\n        return posts.entities?.filter(i => i.title.includes(title));\n    });\n};\n\nexport const makeSelectPostsByTitle1 = createSelector(\n    [selectPosts, (_: RootState, title: string) => title],\n    (posts, title) => {\n        return posts.entities?.filter(i => i.title.includes(title));\n    },\n);\n\n// thunks redux toolkit не умеет поэтому ручками пишем (хорошие новости что включены из коробки)\nexport const fetchPostsAction = (): AppThunk<Promise<PostModel[] | never>> => async (dispatch, _getState) => {\n    dispatch(fetchPostsStart());\n    // console.log(getState());\n    try {\n        const { data: posts } = await customAxios.get<PostModel[]>('https://jsonplaceholder.typicode.com/posts');\n        dispatch(fetchPostsSuccess(posts));\n\n        return posts;\n    } catch (error) {\n        if (error instanceof Error) {\n            dispatch(fetchPostsError(error));\n        }\n        console.error('error ', error);\n        throw error;\n    }\n};\n","import { createAsyncThunk, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\nimport { BookModel } from '@app/models/book.model';\nimport { RootState } from '@app/store/store';\n\n// Тут пример с createEntityAdapter\n// https://redux-toolkit.js.org/api/createEntityAdapter\nconst booksAdapter = createEntityAdapter<BookModel, BookModel['id']>({\n    // Assume IDs are stored in a field other than `book.id` в моем случае есть id\n    selectId: book => book.id,\n    // Keep the \"all IDs\" array sorted based on book titles\n    sortComparer: (a, b) => a.title.localeCompare(b.title),\n});\n\nexport const fetchBooksAction = createAsyncThunk<BookModel[]>('books/fetchAll', async (_, thunkApi) => {\n    try {\n        const result = await Promise.resolve<BookModel[]>([\n            {\n                id: '1',\n                title: 'title1',\n            },\n            {\n                id: '2',\n                title: 'title2',\n            },\n            {\n                id: '3',\n                title: 'title3',\n            },\n        ]);\n\n        return result;\n    } catch (e) {\n        return thunkApi.rejectWithValue(e);\n    }\n});\n\n// пример с асинхронным апдейтом, есть с синхронным, первый аргумент в дженерике что вернет, второй что на вход\nexport const updateBookAsyncAction = createAsyncThunk<BookModel, BookModel>(\n    'books/updateOne',\n    async (book, _thunkApi) => {\n        const response = await Promise.resolve<BookModel>(book);\n        return response;\n    },\n);\n\nconst initialState = booksAdapter.getInitialState({ loading: false }); // { entities: {} ids: [] loading: false }\n\nconst slice = createSlice({\n    name: 'books',\n    initialState,\n    reducers: {\n        removeBookAction: booksAdapter.removeOne,\n        addBookAction: booksAdapter.addOne,\n        updateBookAction: booksAdapter.updateOne,\n    },\n    extraReducers: builder => {\n        builder.addCase(fetchBooksAction.pending, (state, _action) => {\n            state.loading = true;\n        });\n        builder.addCase(fetchBooksAction.fulfilled, (state, { payload }) => {\n            booksAdapter.upsertMany(state, payload);\n            state.loading = false;\n        });\n        builder.addCase(updateBookAsyncAction.fulfilled, (state, { payload }) => {\n            const { id, ...changes } = payload;\n            booksAdapter.updateOne(state, { id, changes });\n        });\n    },\n});\n\nexport default slice.reducer;\n\nexport const { removeBookAction, addBookAction, updateBookAction } = slice.actions;\n\nexport const {\n    selectById: selectBookById,\n    selectIds: selectBookIds,\n    selectEntities: selectBookEntities,\n    selectAll: selectAllBooks,\n    selectTotal: selectTotalBooks,\n} = booksAdapter.getSelectors<RootState>(state => state.books);\n\n// пример селектора если нужно его именно по типу заиспользовать чтобы не проверять на тип в разных селекторах\n// export const testProductSelector = <T>(selector: (state: TestProductStateModel) => T): ((state: RootState) => T) => {\n//     return (state: RootState) => {\n//         const product = selectProduct(state);\n//         if (product?.type === ProductTypeEnum.TEST) {\n//             return selector(state.product);\n//         } else {\n//             throw Error('Incorrect product type');\n//         }\n//     };\n// };\n// export const selectTestProp = testProductSelector(testProduct => testProduct.prop);\n","import { API_BASE_URL, API_PATH } from '@app/constants/common.constants';\n\nexport const THUNK_USERS_URL = `${API_BASE_URL}${API_PATH}/users`;\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { UserModel } from '@app/models/user.model';\nimport { THUNK_USERS_URL } from '@app/constants/api.constants';\n\nexport const fetchThunkUserAction = createAsyncThunk<UserModel[]>('thunkUser/fetchAll', async (_, thunkApi) => {\n    try {\n        const response = await fetch(THUNK_USERS_URL);\n        return await response.json();\n    } catch (e) {\n        return thunkApi.rejectWithValue(e);\n    }\n});\n\nexport const addThunkUserAction = createAsyncThunk<UserModel, Partial<UserModel>>(\n    'thunkUser/add',\n    async (user, thunkApi) => {\n        try {\n            const response = await fetch(THUNK_USERS_URL, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8',\n                },\n                body: JSON.stringify(user),\n            });\n            return await response.json();\n        } catch (e) {\n            return thunkApi.rejectWithValue(e);\n        }\n    }\n);\n\nexport const updateThunkUserAction = createAsyncThunk<UserModel, UserModel>(\n    'thunkUser/update',\n    async (user, thunkApi) => {\n        try {\n            const response = await fetch(THUNK_USERS_URL, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8',\n                },\n                body: JSON.stringify(user),\n            });\n            return await response.json();\n        } catch (e) {\n            return thunkApi.rejectWithValue(e);\n        }\n    }\n);\n\nexport const deleteThunkUserAction = createAsyncThunk<UserModel, UserModel>(\n    'thunkUser/delete',\n    async (user, thunkApi) => {\n        try {\n            const response = await fetch(`${THUNK_USERS_URL}/${user.id}`, {\n                method: 'DELETE',\n                headers: {\n                    'Content-Type': 'application/json;charset=utf-8',\n                },\n                body: JSON.stringify(user),\n            });\n            return await response.json();\n        } catch (e) {\n            return thunkApi.rejectWithValue(e);\n        }\n    }\n);\n","import { AnyAction, AsyncThunk } from '@reduxjs/toolkit';\n\ntype GenericAsyncThunk = AsyncThunk<unknown, unknown, any>;\ntype PendingAction = ReturnType<GenericAsyncThunk['pending']>;\n\nexport function isPendingAction(action: AnyAction): action is PendingAction {\n    return action.type.endsWith('/pending');\n}\nexport function isFulfilledAction(action: AnyAction): action is PendingAction {\n    return action.type.endsWith('/fulfilled');\n}\n","import { UserModel } from '@app/models/user.model';\nimport { createEntityAdapter, createSlice } from '@reduxjs/toolkit';\nimport { RootState } from '@app/store/store';\nimport {\n    addThunkUserAction,\n    deleteThunkUserAction,\n    fetchThunkUserAction,\n    updateThunkUserAction,\n} from '@app/store/thunk-user/thunk-user.action';\nimport { isFulfilledAction, isPendingAction } from '@app/store/thunk-user/thunk-user.model';\n\nconst thunkUserAdapter = createEntityAdapter<UserModel>();\n\nconst initialState = thunkUserAdapter.getInitialState({ loading: false });\n\nconst slice = createSlice({\n    name: 'thunkUser',\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder.addCase(fetchThunkUserAction.fulfilled, thunkUserAdapter.upsertMany);\n        builder.addCase(addThunkUserAction.fulfilled, thunkUserAdapter.addOne);\n        builder.addCase(updateThunkUserAction.fulfilled, (state, { payload }) => {\n            const { id, ...changes } = payload;\n            thunkUserAdapter.updateOne(state, { id, changes });\n        });\n        builder.addCase(deleteThunkUserAction.fulfilled, (state, { payload }) => {\n            thunkUserAdapter.removeOne(state, payload.id);\n        });\n        builder.addMatcher(isPendingAction, state => {\n            state.loading = true;\n        });\n        builder.addMatcher(isFulfilledAction, state => {\n            state.loading = false;\n        });\n    },\n});\n\nexport default slice.reducer;\n\nexport const { selectAll: selectAllThunkUsers } = thunkUserAdapter.getSelectors<RootState>(state => state.thunkUser);\n","import { EntityState } from '@reduxjs/toolkit';\n\nexport enum ProductTypeEnum {\n    Product1 = 'product1',\n    Product2 = 'product2',\n}\n\nexport interface ProductProp {\n    id: string;\n    name: string;\n    value: string;\n}\n\n// product state model\nexport interface AbstractProductStateModel {\n    id: string;\n    type: ProductTypeEnum;\n    name: string;\n}\n\nexport interface Product1StateModel extends AbstractProductStateModel {\n    type: ProductTypeEnum.Product1;\n    // спецом так назвал так как это проперти через доп редюсер делается причем заполняется в родительском редюсере\n    product1InnerProp: EntityState<ProductProp, string>;\n    prop: string;\n    uniqueProduct1Prop: string;\n    productFeature: ProductFeatureStateModel;\n}\n\nexport interface Product2StateModel extends AbstractProductStateModel {\n    type: ProductTypeEnum.Product2;\n    uniqueProduct2Prop: string;\n    product2InnerProp: EntityState<ProductProp, string>;\n    prop: string;\n}\n\nexport type ProductStateModel = Product1StateModel | Product2StateModel;\n\n// product configuration model - это модели для модификации стейта (то что прокидываю в экшенах)\nexport interface AbstractProductConfigurationModel {\n    type: ProductTypeEnum;\n    id: string;\n    version: number;\n}\n\nexport interface Product1ConfigurationModel extends AbstractProductConfigurationModel {\n    type: ProductTypeEnum.Product1;\n    name: string;\n    version: number;\n}\n\nexport interface Product2ConfigurationModel extends AbstractProductConfigurationModel {\n    type: ProductTypeEnum.Product2;\n    name: string;\n    version: number;\n}\n\nexport type ProductConfigurationModel = Product1ConfigurationModel | Product2ConfigurationModel;\n///////////////////////////////////////////////\n\n// это модели для шаренных между стейтами доп редюсерах (находятся в extraReducers) у продуктов\nexport interface ProductFeatureStateModel {\n    id: string;\n    name: string;\n}\n\nexport type ProductConfigurationsModel = Record<string, ProductConfigurationModel>;\n\nexport enum Product1ResettableKeys {\n    Product1Key = 'Product1Key',\n}\n\nexport enum Product2ResettableKeys {\n    Product2Key = 'Product2Key',\n}\n\nexport type ProductResettableKeys = Product1ResettableKeys[] | Product2ResettableKeys[];\n","import { createEntityAdapter } from '@reduxjs/toolkit';\nimport { ProductProp } from '@app/models/product.model';\n\nexport const product1InnerPropAdapter = createEntityAdapter<ProductProp>();\n\nexport const product1InnerPropAdapterInitialState = product1InnerPropAdapter.getInitialState();\n\nconsole.log({ product1InnerPropAdapterInitialState });\n","import { ProductFeatureStateModel } from '@app/models/product.model';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nconst initialState: ProductFeatureStateModel = null!;\n\nconst slice = createSlice({\n    name: 'product/feature',\n    initialState,\n    reducers: {\n        setProductFeatureNameAction(state, action: PayloadAction<string>) {\n            state.name = action.payload;\n        },\n    },\n});\n\nexport const productFeatureReducer = slice.reducer;\n\nexport const { setProductFeatureNameAction } = slice.actions;\n","import { Product1StateModel, ProductProp } from '@app/models/product.model';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { product1InnerPropAdapter } from '@app/store/product/1/product1.adapters';\nimport { productFeatureReducer } from '@app/store/product/feature/product-feature.slice';\n\nconst initialState: Product1StateModel = {} as Product1StateModel;\n\nconst slice = createSlice({\n    name: 'product/product1',\n    initialState,\n    reducers: {\n        setProduct1innerPropAction(state, action: PayloadAction<ProductProp[]>) {\n            product1InnerPropAdapter.setMany(state.product1InnerProp, action.payload);\n        },\n        setProduct1PropAction(state, action: PayloadAction<string>) {\n            state.prop = action.payload;\n        },\n    },\n    extraReducers: builder => {\n        // тут можно сделать inner state property у которой будет свой reducer\n        builder.addDefaultCase((state, action) => {\n            productFeatureReducer(state, action);\n        });\n    },\n});\n\nexport const product1Reducer = slice.reducer;\n\nexport const { setProduct1innerPropAction, setProduct1PropAction } = slice.actions;\n","import { createEntityAdapter } from '@reduxjs/toolkit';\nimport { ProductProp } from '@app/models/product.model';\n\nexport const product2InnerPropAdapter = createEntityAdapter<ProductProp>({});\nexport const product2InnerPropAdapterInitialState = product2InnerPropAdapter.getInitialState();\n","import { Product2StateModel, ProductProp } from '@app/models/product.model';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { productFeatureReducer } from '@app/store/product/feature/product-feature.slice';\nimport { product2InnerPropAdapter } from '@app/store/product/2/product2.adapters';\n\nconst initialState: Product2StateModel = null!;\n\nconst slice = createSlice({\n    name: 'product/product2',\n    initialState,\n    reducers: {\n        setProduct2innerPropAction(state, action: PayloadAction<ProductProp[]>) {\n            product2InnerPropAdapter.setMany(state.product2InnerProp, action.payload);\n        },\n    },\n    extraReducers: builder => {\n        // тут можно сделать inner state property у которой будет свой reducer\n        builder.addDefaultCase((state, action) => {\n            productFeatureReducer(state, action);\n        });\n    },\n});\n\nexport const product2Reducer = slice.reducer;\n\nexport const { setProduct2innerPropAction } = slice.actions;\n","import { createAction } from '@reduxjs/toolkit';\nimport { ProductConfigurationModel, ProductResettableKeys } from '@app/models/product.model';\n\n// это общие экшены, их могу использовать в  extraReducers(builder) { builder.addCase(\nexport const setProductAction = createAction<ProductConfigurationModel>('product/setProductAction');\nexport const resetProductAction = createAction<ProductResettableKeys>('product/resetProductAction');\n","import { AnyAction, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { ProductConfigurationModel, ProductStateModel, ProductTypeEnum } from '@app/models/product.model';\nimport { product1Reducer } from '@app/store/product/1/product1.slice';\nimport { product2Reducer } from '@app/store/product/2/product2.slice';\nimport { product1InnerPropAdapterInitialState } from '@app/store/product/1/product1.adapters';\nimport { setProductAction } from '@app/store/product/abstract/abstract-product.actions';\n\nconst initialState: ProductStateModel = {\n    // тут надо добавить исходный продукт иначе не сработает action из product.container\n    type: ProductTypeEnum.Product1,\n    // если не засечу тут то получу ошибку относительно этих пропертей ids of undefined\n    product1InnerProp: product1InnerPropAdapterInitialState,\n\n    // type: ProductTypeEnum.Product2,\n    // product2InnerProp: product2InnerPropAdapter.getInitialState(),\n} as ProductStateModel;\n\nconst callSpecificProductReducer = (state: ProductStateModel, action: AnyAction) => {\n    switch (state?.type) {\n        case ProductTypeEnum.Product1:\n            return product1Reducer(state, action);\n        case ProductTypeEnum.Product2:\n            return product2Reducer(state, action);\n    }\n};\n\nconst slice = createSlice({\n    name: 'product',\n    initialState,\n    reducers: {\n        setProductTypeAction(state, action: PayloadAction<ProductTypeEnum>) {\n            state.type = action.payload;\n        },\n    },\n    extraReducers(builder) {\n        builder.addCase(\n            setProductAction,\n            (state: ProductStateModel, action: PayloadAction<ProductConfigurationModel>) => {\n                return { ...state, ...action.payload } as ProductStateModel;\n            }\n        );\n        builder.addDefaultCase((state, action) => {\n            return callSpecificProductReducer(state, action);\n        });\n    },\n});\n\nexport const { setProductTypeAction } = slice.actions;\n\nexport const abstractProductReducer = slice.reducer;\n","export enum HeadersEnum {\n    XRequestId = 'x-request-id',\n}\n","import { AnyAction, isRejected, Middleware, MiddlewareAPI } from '@reduxjs/toolkit';\nimport { HeadersEnum } from '@app/models/header.model';\n\nexport enum RequestErrorNameEnum {\n    ConditionError = 'ConditionError',\n}\n\nconst NOTIFICATION_BLACK_LIST: string[] = [];\n\nexport const rtkQueryErrorLogger: Middleware = (_api: MiddlewareAPI) => next => action => {\n    if (isRejected(action)) {\n        let headersReq = (action.meta as any)?.baseQueryMeta?.request?.headers;\n        let headersRes = (action.meta as any)?.baseQueryMeta?.response?.headers;\n\n        if (headersReq) {\n            for (let i of headersReq) {\n                console.log('headersReq', i);\n            }\n        }\n\n        if (headersRes) {\n            for (let i of headersRes) {\n                console.log('headersRes', i);\n            }\n        }\n\n        // RequestErrorNameEnum.ConditionError - RTK Query internal error, that just means that another request was skipped because there was either already a request in flight or already a value in cache, so no request needs to be made. This is an internal rejection that RTK-Query uses to track component subscriptions and not an error.\n        if (\n            action.error.name !== RequestErrorNameEnum.ConditionError &&\n            !NOTIFICATION_BLACK_LIST.includes((action.meta.arg as any).arg?.endpointName)\n        ) {\n            // тут можно вызывать нотификашку например\n            logRequestError(action);\n        }\n    }\n\n    return next(action);\n};\n\n// helpers\nfunction logRequestError(action: AnyAction) {\n    const meta = action.meta;\n\n    if (!meta) return console.error(\"logRequestError Action doesn't contain 'meta'\", action);\n\n    const { request, response } = meta.baseQueryMeta;\n\n    if (!request && !response) return console.error(`Request/response error: ${meta.baseQueryMeta}`);\n\n    const { method, url } = request ?? {};\n    const { status, statusText } = response ?? {};\n\n    const requestHeaders = action.meta?.baseQueryMeta?.request?.headers || [];\n\n    const xRequestId = [...requestHeaders].find(([header]) => header === HeadersEnum.XRequestId)?.[1];\n\n    console.group(`ERROR: ${method} ${url}`);\n    console.log(`STATUS: ${status}`);\n    console.log(`STATUS-TEXT: ${statusText}`);\n    console.log(`X-REQUEST-ID: ${xRequestId}`);\n\n    if (meta.arg) console.log(`RTK QUERY: ${meta.arg.type} ${meta.arg.endpointName}`);\n\n    if (action.payload) {\n        console.groupCollapsed('PAYLOAD');\n        console.log(JSON.stringify(action.payload, null, 4));\n        console.groupEnd();\n    }\n\n    console.groupEnd();\n}\n","import { Action, combineReducers, configureStore, ThunkAction } from '@reduxjs/toolkit';\nimport { FLUSH, PAUSE, PERSIST, persistReducer, persistStore, PURGE, REGISTER, REHYDRATE } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { commonApi } from '@app/store/common/common.api';\nimport counter from './counter/counter.slice';\nimport todos from './todos/todos.slice';\nimport users from './user/api-user.slice';\nimport visibilityFilter from './visibility-filters/visibility-filters.slice';\nimport issuesDisplay from './issues-display/issues-display.slice';\nimport posts from './posts/posts.slice';\nimport books from './books/books.slice';\nimport thunkUser from './thunk-user/thunk-user.slice';\nimport { abstractProductReducer } from '@app/store/product/abstract/abstract-product.slice';\nimport { rtkQueryErrorLogger } from '@app/store/store.utils';\nimport { setupListeners } from '@reduxjs/toolkit/query/react';\n\nconst DEFAULT_FETCH_POLICY_FROM_GQL = 'cache-first';\n\n// автоматически подцепляет дев тулы\n\n// через стандартные редюсеры\n// const store = configureStore({\n//     reducer: counterReducer\n// });\n\n// const middleware = [...getDefaultMiddleware(), logger];\n//\nconst preloadedState = {};\n\nconst persistConfig = {\n    key: 'root',\n    version: 1,\n    storage,\n    // по умолчанию в локалсторадж складывает все, тут указываю что конкретно, также есть blackList\n    whitelist: ['todos'],\n};\n\n// TODO сделать все персистом\nconst persistedReducer = persistReducer(persistConfig, books);\n\nconst rootReducer = combineReducers({\n    counter,\n    todos,\n    users,\n    visibilityFilter,\n    books: persistedReducer,\n    issuesDisplay,\n    posts,\n    thunkUser,\n    product: abstractProductReducer,\n    [commonApi.reducerPath]: commonApi.reducer,\n});\n\nconst store = configureStore({\n    reducer: rootReducer,\n    preloadedState,\n    middleware: getDefaultMiddleware =>\n        getDefaultMiddleware({\n            thunk: {\n                extraArgument: { fetchPolicy: DEFAULT_FETCH_POLICY_FROM_GQL },\n            },\n            immutableCheck: false,\n            serializableCheck: {\n                ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n            },\n        })\n            // Turn on logger if u need\n            // logger,\n            // тут обязательно надо через конкат иначе ругается на него тайпскрипт, причем тупо на type в AppThunk почемуто\n            .concat(commonApi.middleware, rtkQueryErrorLogger),\n    devTools: process.env.NODE_ENV !== 'production',\n});\n\n// через слайсы без persist\n// const store = configureStore({\n//     reducer: rootReducer,\n//     middleware,\n//     preloadedState,\n//     devTools: process.env.NODE_ENV !== 'production',\n//     enhancers: [reduxBatch],\n// });\n\n// if (process.env.NODE_ENV === 'development' && module.hot) {\n//     module.hot.accept('./slices', () => {\n//         const newRootReducer = require('./slices').default;\n//         store.replaceReducer(newRootReducer);\n//     });\n// }\n\nsetupListeners(store.dispatch);\n\nexport default store;\n\n// можно и так\n// export type RootState = ReturnType<typeof rootReducer>;\nexport type RootState = ReturnType<typeof store.getState>;\n\n// пара хуков для работы (необязательно так как обычно использую AppDispatch в дженерике диспатч но все же)\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\n// остальные это кастомные типы для работы с thunk\n// так как часто использую сразу вынесу сюда чтобы не копи пастить\n// export type appThunk = ThunkAction<void, RootState, unknown, Action<string>>;\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, RootState, { fetchPolicy: {} }, Action<string>>;\n// export type EnhancedAction<T, R> = (id: string) => (payload: T) => AppThunk<Promise<R>>;\n\nexport const persistor = persistStore(store);\n","import { Action, combineReducers, configureStore, createAction, createNextState, nanoid } from '@reduxjs/toolkit';\nimport { PreloadedState, CombinedState } from 'redux';\nimport React from 'react';\n\nexport interface IProtectedProps {\n    prop: number;\n    prop1: string;\n}\n\nfunction initStore(preloadedState: PreloadedAppState, props: IProtectedProps) {\n    const state = {\n        ...preloadedState,\n        protectedProps: props,\n    };\n\n    function createProtectedReducerAndActions() {\n        const protectedAction = createAction<Partial<RootState['protectedProps']>>(`${nanoid()}/updateProtectedProps`);\n\n        return {\n            protectedReducer: (state: RootState | undefined, action: Action) => {\n                if (state && protectedAction.match(action)) {\n                    return createNextState(state, draft => {\n                        draft.protectedProps = { ...draft.protectedProps, ...action.payload };\n                    });\n                }\n\n                return rootReducer(state, action);\n            },\n            protectedActions: {\n                protectedAction,\n            },\n        };\n    }\n\n    const { protectedReducer, protectedActions } = createProtectedReducerAndActions();\n\n    const store = configureStore({\n        preloadedState: state,\n        reducer: protectedReducer,\n    });\n\n    return [store, protectedActions] as const;\n}\n\nconst rootReducer = combineReducers({\n    protectedProps: (s: IProtectedProps | undefined) => s ?? { prop: 0, prop1: '' },\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\ntype PreloadedAppState = PreloadedState<CombinedState<RootState>>;\n\nexport function useInitStore(state: PreloadedAppState, props: IProtectedProps) {\n    const [store, protectedActions] = initStore(state, props);\n\n    React.useEffect(() => {\n        store.dispatch(protectedActions.protectedAction(props));\n    }, [props, protectedActions, store]);\n\n    return store;\n}\n","import { RootState } from './store-with-protected-actions';\n\nconst storeWithProtectedActionsSelector = (state: RootState) => state.protectedProps;\n\nexport const storeWithProtectedActionsSelectorProp = (state: RootState) =>\n    storeWithProtectedActionsSelector(state).prop;\n\nexport const storeWithProtectedActionsSelectorProp1 = (state: RootState) =>\n    storeWithProtectedActionsSelector(state).prop1;\n","import cn from 'classnames';\nimport React, { memo } from 'react';\n\nimport { useInitStore } from '@app/store/store-with-protected-actions/store-with-protected-actions';\nimport { Provider, useSelector } from 'react-redux';\nimport {\n    storeWithProtectedActionsSelectorProp,\n    storeWithProtectedActionsSelectorProp1,\n} from '@app/store/store-with-protected-actions/store-with-protected-actions.selectors';\n\ntype StoreWithProtectedActionProps = {};\n\nconst StoreWithProtectedAction = memo<StoreWithProtectedActionProps>(() => {\n    const store = useInitStore({}, { prop: 37, prop1: 'Max' });\n\n    return (\n        <Provider store={store}>\n            <div className={cn('taStoreWithProtectedAction')}>\n                <Inner />\n            </div>\n        </Provider>\n    );\n});\n\nfunction Inner() {\n    const prop = useSelector(storeWithProtectedActionsSelectorProp);\n    const prop1 = useSelector(storeWithProtectedActionsSelectorProp1);\n\n    return (\n        <>\n            {prop} {prop1}\n        </>\n    );\n}\n\nexport { StoreWithProtectedAction };\n","import React, { memo } from 'react';\nimport { Provider } from 'react-redux';\nimport store, { persistor } from '../store/store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { StoreWithProtectedAction } from '@app/components/store-with-protected-actions/store-with-protected-actions.component';\n\nconst Rt = () => {\n    return (\n        <Provider store={store}>\n            {/* должен обернуть в гейт чтобы подгрузилась инфа из локал сторадж*/}\n            <PersistGate loading={null} persistor={persistor}>\n                <StoreWithProtectedAction />\n                {/*<ReduxCustomContextContainer />*/}\n                {/*<ReduxContextContainer />*/}\n                {/*<ProductContainer />*/}\n                {/*<UserListApiContainer />*/}\n                {/*<LocalStorageRtk />*/}\n                {/*<UserListThunkContainer />*/}\n                {/*<RtBooksContainer />*/}\n                {/*<RtUsersContainer />*/}\n                {/*<RtUsersContainer1 />*/}\n                {/*<RtCounter />*/}\n                {/*<RtTodos />*/}\n                {/*<RtIssuesDisplay />*/}\n                {/*<RtPosts />*/}\n            </PersistGate>\n        </Provider>\n    );\n};\n\nexport default memo(Rt);\n"],"names":["__emulate__","Boolean","process","REACT_APP_EMULATE","console","log","API_BASE_URL","API_PATH","commonApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","headers","_api","set","uuidv4","endpoints","_","slice","createSlice","name","initialState","reducers","incrementAction","state","decrementAction","actions","todosSlice","entities","addTodoAction","_ref","payload","push","addTodoPreparedAction","reducer","_ref2","id","text","completed","prepare","Math","random","Date","now","toggleTodoAction","_ref3","todo","find","apiUserApi","injectEndpoints","build","fetchUserList","query","url","fetchUser","queryFn","__","fetchWithBQ","userId","dispatch","_dispatch","getState","result","method","error","data","addUser","mutation","user","body","onQueryStarted","_ref4","_ref5","_user","queryFulfilled","newUser","util","updateQueryData","undefined","userList","addUserDebounced","_ref6","_ref7","_await$debouncedAddUs","cancelDebounce","_cancelDebounce","_getState","debouncedAddUser","updateUser","_ref8","_ref9","_ref10","updateResult","userIndex","findIndex","item","undo","deleteUser","_ref11","filter","userFromList","overrideExisting","debounce","async","leading","usersApiAdapter","createEntityAdapter","selectId","sortComparer","a","b","localeCompare","usersApiSlice","getInitialState","loading","extraReducers","builder","addMatcher","matchFulfilled","action","setAll","matchPending","matchRejected","selectAll","selectAllApiUsers","selectById","selectApiUserById","selectIds","selectApiUserIds","getSelectors","users","visibilityFilterSlice","setVisibilityFilterAction","_state","org","repo","page","displayType","IssuesDisplayTypeEnum","Issues","issueId","issuesDisplaySlice","displayRepo","setCurrentPage","setCurrentDisplayType","createAsyncThunk","thunkApi","posts","customAxios","get","e","rejectWithValue","postsSlice","fetchPostsStart","fetchPostsSuccess","fetchPostsError","selectPosts","booksAdapter","createSelector","title","_posts$entities2","i","includes","book","fetchBooksAction","Promise","resolve","updateBookAsyncAction","_thunkApi","removeBookAction","removeOne","addBookAction","addOne","updateBookAction","updateOne","addCase","pending","_action","fulfilled","upsertMany","changes","selectBookById","selectBookIds","selectEntities","selectBookEntities","selectAllBooks","selectTotal","selectTotalBooks","books","THUNK_USERS_URL","fetchThunkUserAction","response","fetch","json","addThunkUserAction","JSON","stringify","updateThunkUserAction","deleteThunkUserAction","isPendingAction","type","endsWith","isFulfilledAction","thunkUserAdapter","selectAllThunkUsers","thunkUser","ProductTypeEnum","product1InnerPropAdapter","product1InnerPropAdapterInitialState","setProductFeatureNameAction","productFeatureReducer","setProduct1innerPropAction","setMany","product1InnerProp","setProduct1PropAction","prop","addDefaultCase","product1Reducer","product2InnerPropAdapter","setProduct2innerPropAction","product2InnerProp","product2Reducer","setProductAction","createAction","Product1","setProductTypeAction","callSpecificProductReducer","Product2","abstractProductReducer","HeadersEnum","RequestErrorNameEnum","NOTIFICATION_BLACK_LIST","rtkQueryErrorLogger","next","isRejected","_action$meta","_action$meta$baseQuer","_action$meta$baseQuer2","_action$meta2","_action$meta2$baseQue","_action$meta2$baseQue2","_arg","headersReq","meta","baseQueryMeta","request","headersRes","ConditionError","arg","endpointName","_action$meta3","_action$meta3$baseQue","_action$meta3$baseQue2","_find","status","statusText","requestHeaders","xRequestId","header","XRequestId","group","groupCollapsed","groupEnd","logRequestError","persistConfig","key","version","storage","whitelist","persistedReducer","persistReducer","rootReducer","combineReducers","counter","todos","visibilityFilter","issuesDisplay","product","store","configureStore","preloadedState","middleware","getDefaultMiddleware","thunk","extraArgument","fetchPolicy","immutableCheck","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","devTools","setupListeners","persistor","persistStore","protectedProps","s","prop1","useInitStore","props","protectedActions","protectedReducer","protectedAction","nanoid","match","createNextState","draft","createProtectedReducerAndActions","initStore","React","storeWithProtectedActionsSelector","storeWithProtectedActionsSelectorProp","storeWithProtectedActionsSelectorProp1","StoreWithProtectedAction","memo","_jsx","Provider","children","className","cn","Inner","useSelector","_jsxs","_Fragment","Rt","PersistGate"],"sourceRoot":""}